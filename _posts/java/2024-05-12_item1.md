# 객체 생성과 파괴

## ITEM.1 생성자 대신 정적 팩터리 메서드를 고려하라

### 장점
1. 이름을 가질 수 있다.
2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다.
3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. -> 잘 모르겠다. // 2024.05.12
4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다. -> 잘 모르겠다. // 2024.05.12
5. 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.

### 단점

1. 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.
2. 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.

## 예제
```java
@Getter
@Setter
public class UserDto {
    private String id;
    private String name;

    public static UserDto createUser(String id, String name) {
        this.id = id;
        this.name = name;
    }
}
```
위 코드는 책의 '생성자 대신 정적 팩터리 메서드를 고려하라는' 문구만 보고 내가 작성한 코드다.
해당 코드는 IDE에서 작성해 보면 메서드 안에 필드에 접근하는 this를 사용한 부분에서 error가 발생한다.
error가 발생하는 이유는 정적 메서드에서 인스턴스 필드 값을 접근하려고 해서 발생한다. 그래서 올바르게 작동하는 코드로 변경을 해보자면

```java
    public static UserDto createUser(String id, String name) {
        UserDto dto = new UserDto();
        dto.id = id;
        dto.name = name;
        return dto;
    }
```

이렇게 수정하면 정상적으로 작동하는 코드는 만들어 진다.
